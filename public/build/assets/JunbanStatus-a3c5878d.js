import{o,c as d,a as s,t as j,h as _,g as y,F as p,u as M,f as g,d as w,e,n as k,b as r,j as f,v as $,k as v,i as V}from"./app-4ff7a416.js";const x={style:{width:"auto","text-align":"center"}},C={style:{width:"auto","text-align":"center"}},U={key:0},N={key:1},J={__name:"JunbanStatusList",props:{junban_status:Object},emits:["editStatus","deleteStatus"],setup(l,{emit:n}){return(i,u)=>(o(),d(p,null,[s("td",null,j(l.junban_status.ordering),1),s("td",x,j(l.junban_status.title),1),s("td",C,j(l.junban_status.status_category),1),l.junban_status.id>3?(o(),d("td",U,[s("a",{href:"",onClick:u[0]||(u[0]=_(m=>i.$emit("editStatus",l.junban_status),["prevent"]))},u[3]||(u[3]=[s("i",{class:"fa fa-edit"},null,-1)])),s("a",{href:"",onClick:u[1]||(u[1]=_(m=>i.$emit("deleteStatus",l.junban_status),["prevent"]))},u[4]||(u[4]=[s("i",{class:"fa fa-trash"},null,-1)]))])):(o(),d("td",N,[l.junban_status.id==2?(o(),d("a",{key:0,href:"",onClick:u[2]||(u[2]=_(m=>i.$emit("editStatus",l.junban_status),["prevent"]))},u[5]||(u[5]=[s("i",{class:"fa fa-edit"},null,-1)]))):y("",!0)]))],64))}},L={class:"page"},B={class:"management-title"},D={class:"table2"},E={key:0,id:"myModal",class:"modal"},q={class:"modal-content"},F={for:"yes"},O={for:"no"},z={__name:"JunbanStatus",setup(l){const n=M();n.fetchJunbanStatusList();const i=b=>{n.junban_status_form={...b},n.junban_status_form.showModal=!n.junban_status_form.showModal},u=b=>{n.junban_status_form={...b},confirm("削除しますか？")==!0&&n.deleteStatus()},m=()=>{n.junban_status_form.showModal=!n.junban_status_form.showModal,n.junban_status_form.ordering=n.junban_status_list.length+1,n.junban_status_form.id=0,n.junban_status_form.title="",n.junban_status_form.category="1",n.junban_status_form.send_message=!1,n.junban_status_form.message=""},S=()=>{n.junban_status_form.showModal=!n.junban_status_form.showModal};return(b,t)=>(o(),d(p,null,[s("div",L,[t[11]||(t[11]=s("br",null,null,-1)),s("div",B,[t[9]||(t[9]=g("【順番ステータス】")),s("button",{class:"management-btn-btn update-btn",onClick:t[0]||(t[0]=a=>m())},"追加する")]),t[12]||(t[12]=s("br",null,null,-1)),s("table",D,[s("tbody",null,[t[10]||(t[10]=s("tr",null,[s("th",null,"順番"),s("th",null,"タイトル"),s("th",null,"カテゴリー"),s("th",null,"更新")],-1)),(o(!0),d(p,null,w(e(n).junban_status_list,a=>(o(),d("tr",null,[V(J,{junban_status:a,onEditStatus:i,onDeleteStatus:u},null,8,["junban_status"])]))),256))])]),s("div",{class:k(["alert alert-success",e(n).message.show&&e(n).message.status=="success"?"fadeOut":""]),role:"alert","data-mdb-color":"success"},j(e(n).message.message),3)]),e(n).junban_status_form.showModal?(o(),d("div",E,[s("form",{method:"post",onSubmit:t[8]||(t[8]=_((...a)=>e(n).addStatus&&e(n).addStatus(...a),["prevent"]))},[s("div",q,[s("span",{class:"close",onClick:S},"×"),t[16]||(t[16]=s("h2",null,"順番を追加する",-1)),t[17]||(t[17]=s("h3",null,"順番表示：",-1)),r(s("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=a=>e(n).junban_status_form.ordering=a),required:""},null,512),[[f,e(n).junban_status_form.ordering]]),t[18]||(t[18]=s("h2",null,"カテゴリー",-1)),r(s("select",{class:"textfield","onUpdate:modelValue":t[2]||(t[2]=a=>e(n).junban_status_form.category=a)},t[13]||(t[13]=[s("option",{value:"1"},"待機人",-1),s("option",{value:"2"},"診察中",-1),s("option",{value:"3"},"診察終了",-1)]),512),[[$,e(n).junban_status_form.category]]),t[19]||(t[19]=s("h3",null,"タイトル：",-1)),r(s("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=a=>e(n).junban_status_form.title=a),required:""},null,512),[[f,e(n).junban_status_form.title]]),t[20]||(t[20]=s("h3",null,"LINEで通知する：",-1)),s("label",F,[r(s("input",{type:"radio",id:"yes",value:"1",name:"send_message","onUpdate:modelValue":t[4]||(t[4]=a=>e(n).junban_status_form.send_message=a)},null,512),[[v,e(n).junban_status_form.send_message]]),t[14]||(t[14]=g("はい "))]),s("label",O,[r(s("input",{type:"radio",id:"no",value:"0",name:"send_message","onUpdate:modelValue":t[5]||(t[5]=a=>e(n).junban_status_form.send_message=a)},null,512),[[v,e(n).junban_status_form.send_message]]),t[15]||(t[15]=g("いいえ "))]),t[21]||(t[21]=s("h3",null,"通知メッセージ",-1)),r(s("textarea",{"onUpdate:modelValue":t[6]||(t[6]=a=>e(n).junban_status_form.message=a)},null,512),[[f,e(n).junban_status_form.message]]),r(s("input",{type:"hidden","onUpdate:modelValue":t[7]||(t[7]=a=>e(n).junban_status_form.id=a)},null,512),[[f,e(n).junban_status_form.id]]),t[22]||(t[22]=s("div",{class:"management-btn"},[s("button",{class:"management-btn-btn",type:"submit",name:"btn",value:"登録",style:{width:"150px"}},"登　録")],-1))])],32)])):y("",!0)],64))}};export{z as default};
